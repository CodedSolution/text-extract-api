# =================================
# FINAL CAPROVER ENVIRONMENT VARIABLES
# =================================

# Core application configuration
APP_ENV=production
APP_TYPE=fastapi

# Redis configuration (CapRover managed)
REDIS_CACHE_URL=redis://srv-captain--extract-text-redis:6379/1
CELERY_BROKER_URL=redis://srv-captain--extract-text-redis:6379/0
CELERY_RESULT_BACKEND=redis://srv-captain--extract-text-redis:6379/0

# External API endpoints
OLLAMA_HOST=https://andy-imakol.ngrok.dev
REMOTE_API_URL=

# Storage configuration
STORAGE_PROFILE_PATH=/app/storage_profiles

# Extended timeout settings for OCR tasks
TASK_TIME_LIMIT=1800
TASK_SOFT_TIME_LIMIT=1500
RESULT_EXPIRES=3600

# Performance and memory management
CELERY_WORKER_MAX_MEMORY_PER_CHILD=512000
CELERY_WORKER_MAX_TASKS_PER_CHILD=10
CELERY_WORKER_PREFETCH_MULTIPLIER=1
CELERY_TASK_ACKS_LATE=true

# Performance monitoring
CELERY_SEND_TASK_EVENTS=true
CELERY_TASK_SEND_SENT_EVENT=true

# =================================
# REMOVED CONFIGURATIONS (conflicts with docling-only approach):
# - DEFAULT_LLM_MODEL (让docling纯PDF提取工作)
# - LLAMA_VISION_PROMPT (避免AI模型调用)
# ================================= 